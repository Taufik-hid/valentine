<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For Ambar ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    text-align:center;
    min-height:100vh;
    overflow-x:hidden;
    background: linear-gradient(135deg,#ff9a9e,#fad0c4,#fbc2eb,#a6c1ee);
    background-attachment: fixed; /* ini fix iPhone */
    position:relative;
}


/* background glow smooth */
body::before{
content:"";
position:fixed;
top:-50%;
left:-50%;
width:200%;
height:200%;
background:
radial-gradient(circle at 30% 30%, rgba(255,255,255,0.25), transparent 40%),
radial-gradient(circle at 70% 70%, rgba(255,255,255,0.2), transparent 40%);
animation: floatBg 25s linear infinite;
pointer-events:none;
z-index:-1;
}

@keyframes floatBg{
0%{ transform: rotate(0deg); }
100%{ transform: rotate(360deg); }
}

.section{
    display:none;
    margin-top:80px;
}

h1{
    color:#d8a4ff; /* ungu muda */
    text-shadow:0 0 12px rgba(255,255,255,0.6);
}

button{
    padding:12px 25px;
    border:none;
    border-radius:25px;
    cursor:pointer;
    margin:10px;
    font-size:16px;
}

.yes{
    background:#ff4d6d;
    color:white;
}

.run{
    background:#444;
    color:white;
    position:fixed;
}

img, video{
    max-width:300px;
    margin-top:20px;
    border-radius:20px;
    box-shadow:0 0 20px rgba(255,255,255,0.5);
}

/* love rain */
.love{
    position:fixed;
    top:-30px;
    font-size:22px;
    animation:fall linear forwards;
}

@keyframes fall{
0%{transform:translateY(0) rotate(0deg); opacity:1;}
100%{transform:translateY(110vh) rotate(360deg); opacity:0;}
}
</style>
</head>

<body>

<audio id="bgm" loop>
<source src="romance.mp3" type="audio/mpeg">
</audio>

<!-- GAME -->
<div id="game" class="section" style="display:block;">
<h1>Tangkap 5 hati dulu ‚ù§Ô∏è</h1>
</div>

<!-- PERTANYAAN -->
<div id="q1" class="section">
<h1>kamu sayang gk sama aku?</h1>
<button class="yes" onclick="next1()">Iya ‚ù§Ô∏è</button>
<button class="run" id="tidak">Tidak üòú</button>
</div>

<!-- FOTO -->
<div id="foto" class="section">
<h1>aku juga sayang sama kamu kok ‚ù§Ô∏è</h1>
<img src="cium.jpg">
<br>
<button class="yes" onclick="next2()">Lanjut yok sayang üòò</button>
<button class="run" id="gamau">Gamau üòÜ</button>
</div>

<!-- VIDEO -->
<div id="videoSec" class="section">
<h1>kita terus sama-sama ya sayang ‚ù§Ô∏è</h1>
<video id="romanticVideo" autoplay playsinline>
<source src="kita.MP4" type="video/mp4">
</video>
<br>
<button class="yes" onclick="finalPage()">iya sayang ‚ù§Ô∏è</button>
<button class="run" id="skip">skip üòù</button>
</div>

<!-- FINAL -->
<div id="final" class="section">
<h1>i love you ambar ‚ù§Ô∏è</h1>
<img src="kita.jpg">
</div>

<script>

/* MUSIC */
const bgm=document.getElementById("bgm");
bgm.volume=0.3;

document.body.addEventListener("click",()=>{
bgm.play().catch(()=>{});
},{once:true});

/* GAME HEARTS */
let count=0;
const game=document.getElementById("game");

for(let i=0;i<5;i++){
let heart=document.createElement("div");
heart.innerHTML="‚ù§Ô∏è";
heart.style.position="absolute";
heart.style.fontSize="30px";
heart.style.cursor="pointer";

let x=Math.random()*(window.innerWidth-40);
let y=Math.random()*(window.innerHeight-40);
let dx=(Math.random()*2+1);
let dy=(Math.random()*2+1);

heart.style.left=x+"px";
heart.style.top=y+"px";

function move(){
x+=dx;
y+=dy;

if(x<=0||x>=window.innerWidth-40) dx*=-1;
if(y<=0||y>=window.innerHeight-40) dy*=-1;

heart.style.left=x+"px";
heart.style.top=y+"px";

requestAnimationFrame(move);
}
move();

heart.onclick=function(){
heart.remove();
count++;
if(count===5){
game.style.display="none";
show("q1");
}
};

game.appendChild(heart);
}

/* tombol lari */
function makeRun(id){
const btn=document.getElementById(id);
btn.addEventListener("mouseover",()=>{
let x=Math.random()*(window.innerWidth-120);
let y=Math.random()*(window.innerHeight-60);
btn.style.left=x+"px";
btn.style.top=y+"px";
});
}

makeRun("tidak");
makeRun("gamau");
makeRun("skip");

/* flow */
function show(id){
document.querySelectorAll(".section").forEach(sec=>sec.style.display="none");
document.getElementById(id).style.display="block";
}

function next1(){ show("foto"); }

function next2(){
show("videoSec");

const vid=document.getElementById("romanticVideo");

/* fade out musik */
let fadeOut=setInterval(()=>{
if(bgm.volume>0.1){
bgm.volume-=0.02;
}else{
clearInterval(fadeOut);
}
},100);

vid.volume=1.0;
vid.play().catch(()=>{});
}

function finalPage(){
show("final");

/* fade in musik */
let fadeIn=setInterval(()=>{
if(bgm.volume<0.3){
bgm.volume+=0.02;
}else{
clearInterval(fadeIn);
}
},100);

loveRain();
}

/* love rain */
function loveRain(){
setInterval(()=>{
let love=document.createElement("div");
love.className="love";
love.innerHTML="‚ù§Ô∏è";
love.style.left=Math.random()*window.innerWidth+"px";
love.style.animationDuration=(4+Math.random()*3)+"s";
love.style.fontSize=(18+Math.random()*20)+"px";
document.body.appendChild(love);
setTimeout(()=>love.remove(),7000);
},300);
}

</script>

</body>
</html>
